## kimi修改记录

## 修改的文件
1. handler.rs
2. cli.yml
3. main.rs
4. Cargo.toml


## 修复更新的功能
1. 将Action构建条件改为手动 
2. 修复支持代理，并且同时支持：
	- 自动使用系统代理
	- 手动代理(需要再终端中导入http_proxy|https_prox|all_proxy等代理参数)
3. 新增图片如果存在时，就不重新下载的功能。
4. 添加参数-r|--retry,允许一直重试失败的任务，直到所有的任务都完成。
	- 注意重试允许条件-如不合适可以根据情况修改handler.rs文件中is_retryable()函数中的一些条件
5. 修复不能现在标记为受限或具有攻击性的图库



## 大的更改：
reqwest 从 0.9.12 升级到 0.11，其中需更改的内容：
1. 把 Cargo.toml 改成：
```
//原来：
reqwest = "0.9.12"
url = "1.7.2"

//更改后：
reqwest = { version = "0.11", features = ["blocking"] }
url = "2.5.8"
```
⚠️ 注意：0.11 默认是 async，你现在代码是同步版本，所以必须加：
```
features = ["blocking"]
```
2. 然后你需要：
```
use reqwest::blocking::{Client, Response};
```
并且所有：
```
reqwest::Response
```
改成：
```
reqwest::blocking::Response
```
升级后：
```
e.is_timeout()
e.is_connect()
e.status()
```
全部可用。